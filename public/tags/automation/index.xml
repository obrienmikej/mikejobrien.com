<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>automation on Mike J. O&#39;Brien</title>
    <link>https://mikejobrien.com/tags/automation/</link>
    <description>Recent content in automation on Mike J. O&#39;Brien</description>
    <generator>Hugo -- gohugo.io</generator>
    <copyright>Copyright obrienmikej and the Hugo Authors; all rights reserved.</copyright>
    <lastBuildDate>Sat, 26 Dec 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://mikejobrien.com/tags/automation/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>GitHub-actions for hugo deployments</title>
      <link>https://mikejobrien.com/post/2020/2020-12-26/</link>
      <pubDate>Sat, 26 Dec 2020 00:00:00 +0000</pubDate>
      
      <guid>https://mikejobrien.com/post/2020/2020-12-26/</guid>
      <description>
        
          &lt;h1 id=&#34;overview&#34;&gt;Overview&lt;/h1&gt;
&lt;p&gt;How I setup github-actions to deploy &lt;a href=&#34;https://mikejobrien.com&#34;&gt;my site&lt;/a&gt; to s3 on commit to main. I was already using hugo, hosted on S3 with route53, cloudfront and https. This post is specific to automated deployments.&lt;/p&gt;
&lt;h2 id=&#34;references&#34;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://capgemini.github.io/development/Using-GitHub-Actions-and-Hugo-Deploy-to-Deploy-to-AWS&#34;&gt;Using GitHub Actions and Hugo Deploy to Deploy a Static Site to AWS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/peaceiris/actions-hugo&#34;&gt;GitHub Actions for Hugo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;high-level-details&#34;&gt;High-level details&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;added aws secrets to github&lt;/li&gt;
&lt;li&gt;setup new limited access in AWS&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;added new IAM user &amp;quot;githubcicd&amp;quot; and using access keys on this user&lt;/li&gt;
&lt;li&gt;added new IAM policy &amp;quot;GitHubActionsPolicy&amp;quot;, limited access to s3,cloudfront&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;added deployment config in config.toml&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;name&lt;/li&gt;
&lt;li&gt;s3 url&lt;/li&gt;
&lt;li&gt;cloudFrontDistributionID&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;added resources required to build in github&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;assets/scss&lt;/li&gt;
&lt;li&gt;resources/_gen/assets/sass&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;added file to automate deployment&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;.github/workflows/main.yaml&lt;/li&gt;
&lt;/ul&gt;

        
      </description>
    </item>
    
  </channel>
</rss>
